[gd_scene load_steps=15 format=3 uid="uid://dd5n5b1krrxfl"]

[ext_resource type="Script" path="res://player.gd" id="1_o1ap8"]
[ext_resource type="Texture2D" uid="uid://crgxjhkql7v2n" path="res://BlockCharacters/Faces/face_adventurer.png" id="2_3wyw2"]
[ext_resource type="PackedScene" uid="uid://bp1x8t1577feb" path="res://FantasyTownKit/Models/stallRed.glb" id="2_gjbpa"]
[ext_resource type="FontFile" uid="uid://cms5303v0rjh3" path="res://PoetsenOne-Regular.ttf" id="3_4ee5j"]
[ext_resource type="PackedScene" uid="uid://cblx604tmf555" path="res://FoodKit/Models/apple.glb" id="3_emm63"]
[ext_resource type="PackedScene" uid="uid://dxh4jhpxiwgg8" path="res://FoodKit/Models/avocado.glb" id="4_4gq7x"]
[ext_resource type="PackedScene" uid="uid://d03xkgllxoime" path="res://BlockCharacters/Models/Non-rigged/glTF/advancedCharacter.gltf" id="5_l6dvs"]
[ext_resource type="Texture2D" uid="uid://dg2h3802r41h8" path="res://BlockCharacters/Skins/Advanced/skin_adventurer.png" id="6_sb6na"]

[sub_resource type="PlaneMesh" id="PlaneMesh_bwon2"]
size = Vector2(10, 10)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_k50cs"]
data = PackedVector3Array(5, 0, 5, -5, 0, 5, 5, 0, -5, -5, 0, 5, -5, 0, -5, 5, 0, -5)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ok4ej"]
radius = 0.3

[sub_resource type="CapsuleMesh" id="CapsuleMesh_qsxia"]
radius = 0.3

[sub_resource type="FontVariation" id="FontVariation_hgcan"]
base_font = ExtResource("3_4ee5j")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8e3ox"]
albedo_texture = ExtResource("6_sb6na")

[node name="Main" type="Node3D"]

[node name="Ground" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_bwon2")

[node name="StaticBody3D" type="StaticBody3D" parent="Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_k50cs")

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.726445, 1.09196, 1.60009)
script = ExtResource("1_o1ap8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_ok4ej")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player"]
mesh = SubResource("CapsuleMesh_qsxia")

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.642319, 0)
current = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Crosshair" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -4.0
offset_right = -12.0
offset_bottom = 4.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="DialogUI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
grow_vertical = 0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/DialogUI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -128.0
offset_right = 1148.0
grow_vertical = 0

[node name="Avatar" type="TextureRect" parent="CanvasLayer/DialogUI/HBoxContainer"]
custom_minimum_size = Vector2(128, 128)
layout_mode = 2
texture = ExtResource("2_3wyw2")
expand_mode = 1

[node name="TextBackground" type="ColorRect" parent="CanvasLayer/DialogUI/HBoxContainer"]
custom_minimum_size = Vector2(128, 128)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 8

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/DialogUI/HBoxContainer/TextBackground"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 15
theme_override_constants/margin_top = 15
theme_override_constants/margin_right = 15
theme_override_constants/margin_bottom = 15

[node name="DialogText" type="Label" parent="CanvasLayer/DialogUI/HBoxContainer/TextBackground/MarginContainer"]
layout_mode = 2
size_flags_vertical = 1
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = SubResource("FontVariation_hgcan")
theme_override_font_sizes/font_size = 20
text = "Sample dialogue text"
vertical_alignment = 1
autowrap_mode = 2

[node name="stallRed" parent="." instance=ExtResource("2_gjbpa")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1.59279, 0, -1.61077)

[node name="apple" parent="." instance=ExtResource("3_emm63")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.27337, 0.8224, -1.42407)

[node name="avocado" parent="." instance=ExtResource("4_4gq7x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.61118, 0.8224, -1.37969)

[node name="AdventurerNPC" parent="." instance=ExtResource("5_l6dvs")]
transform = Transform3D(0.825626, 0, 0.564218, 0, 1, 0, -0.564218, 0, 0.825626, -0.385041, -4.76837e-07, -1.13804)

[node name="Body1" parent="AdventurerNPC" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_8e3ox")

[node name="Head1" parent="AdventurerNPC" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_8e3ox")

[node name="ArmLeft1" parent="AdventurerNPC" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_8e3ox")

[node name="ArmRight1" parent="AdventurerNPC" index="3"]
surface_material_override/0 = SubResource("StandardMaterial3D_8e3ox")

[node name="LegLeft1" parent="AdventurerNPC" index="4"]
surface_material_override/0 = SubResource("StandardMaterial3D_8e3ox")

[node name="LegRight1" parent="AdventurerNPC" index="5"]
surface_material_override/0 = SubResource("StandardMaterial3D_8e3ox")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.906256, 0.422729, 0, -0.422729, 0.906256, 0, 5.26608, 8.56439)
shadow_enabled = true

[editable path="stallRed"]
[editable path="AdventurerNPC"]
